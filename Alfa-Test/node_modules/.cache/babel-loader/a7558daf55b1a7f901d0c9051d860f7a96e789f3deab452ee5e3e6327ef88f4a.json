{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{Send,Bot,User}from'lucide-react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export const ChatBot=_ref=>{let{onSendMessage}=_ref;const[messages,setMessages]=useState([{id:'1',message:'Olá! Sou seu assistente virtual. Posso ajudar com informações sobre estoque, clientes e vendas. Como posso ajudar?',isBot:true,timestamp:new Date()}]);const[inputMessage,setInputMessage]=useState('');const messagesEndRef=useRef(null);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[messages]);const handleSendMessage=e=>{e.preventDefault();if(!inputMessage.trim())return;const userMessage={id:Date.now().toString(),message:inputMessage,isBot:false,timestamp:new Date()};setMessages(prev=>[...prev,userMessage]);// Simular delay do bot\nsetTimeout(()=>{const botResponse=onSendMessage(inputMessage);const botMessage={id:(Date.now()+1).toString(),message:botResponse,isBot:true,timestamp:new Date()};setMessages(prev=>[...prev,botMessage]);},500);setInputMessage('');};return/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg shadow-sm border h-96 flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"p-4 border-b bg-primary-50 rounded-t-lg\",children:/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-medium text-gray-900 flex items-center\",children:[/*#__PURE__*/_jsx(Bot,{className:\"h-5 w-5 mr-2 text-primary-600\"}),\"Assistente Virtual\"]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-4 space-y-4\",children:[messages.map(message=>/*#__PURE__*/_jsx(\"div\",{className:\"flex \".concat(message.isBot?'justify-start':'justify-end'),children:/*#__PURE__*/_jsx(\"div\",{className:\"max-w-xs lg:max-w-md px-4 py-2 rounded-lg \".concat(message.isBot?'bg-gray-100 text-gray-900':'bg-primary-600 text-white'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-2\",children:[message.isBot?/*#__PURE__*/_jsx(Bot,{className:\"h-4 w-4 mt-0.5 text-primary-600\"}):/*#__PURE__*/_jsx(User,{className:\"h-4 w-4 mt-0.5\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm\",children:message.message}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs mt-1 \".concat(message.isBot?'text-gray-500':'text-primary-100'),children:message.timestamp.toLocaleTimeString()})]})]})})},message.id)),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSendMessage,className:\"p-4 border-t\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:inputMessage,onChange:e=>setInputMessage(e.target.value),placeholder:\"Digite sua pergunta...\",className:\"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-primary-500 focus:border-primary-500\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500\",children:/*#__PURE__*/_jsx(Send,{className:\"h-4 w-4\"})})]})})]});};","map":{"version":3,"names":["React","useState","useRef","useEffect","Send","Bot","User","jsx","_jsx","jsxs","_jsxs","ChatBot","_ref","onSendMessage","messages","setMessages","id","message","isBot","timestamp","Date","inputMessage","setInputMessage","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","e","preventDefault","trim","userMessage","now","toString","prev","setTimeout","botResponse","botMessage","className","children","map","concat","toLocaleTimeString","ref","onSubmit","type","value","onChange","target","placeholder"],"sources":["C:/Users/Andrei/Documents/GitHub Projetos Andrakael/Alfa-Test/src/components/ChatBot.tsx"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\r\nimport { Send, Bot, User } from 'lucide-react';\r\nimport { ChatMessage } from '../types';\r\n\r\ninterface ChatBotProps {\r\n  onSendMessage: (message: string) => string;\r\n}\r\n\r\nexport const ChatBot: React.FC<ChatBotProps> = ({ onSendMessage }) => {\r\n  const [messages, setMessages] = useState<ChatMessage[]>([\r\n    {\r\n      id: '1',\r\n      message: 'Olá! Sou seu assistente virtual. Posso ajudar com informações sobre estoque, clientes e vendas. Como posso ajudar?',\r\n      isBot: true,\r\n      timestamp: new Date()\r\n    }\r\n  ]);\r\n  const [inputMessage, setInputMessage] = useState('');\r\n  const messagesEndRef = useRef<HTMLDivElement>(null);\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  const handleSendMessage = (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    if (!inputMessage.trim()) return;\r\n\r\n    const userMessage: ChatMessage = {\r\n      id: Date.now().toString(),\r\n      message: inputMessage,\r\n      isBot: false,\r\n      timestamp: new Date()\r\n    };\r\n\r\n    setMessages(prev => [...prev, userMessage]);\r\n\r\n    // Simular delay do bot\r\n    setTimeout(() => {\r\n      const botResponse = onSendMessage(inputMessage);\r\n      const botMessage: ChatMessage = {\r\n        id: (Date.now() + 1).toString(),\r\n        message: botResponse,\r\n        isBot: true,\r\n        timestamp: new Date()\r\n      };\r\n      setMessages(prev => [...prev, botMessage]);\r\n    }, 500);\r\n\r\n    setInputMessage('');\r\n  };\r\n\r\n  return (\r\n    <div className=\"bg-white rounded-lg shadow-sm border h-96 flex flex-col\">\r\n      <div className=\"p-4 border-b bg-primary-50 rounded-t-lg\">\r\n        <h3 className=\"text-lg font-medium text-gray-900 flex items-center\">\r\n          <Bot className=\"h-5 w-5 mr-2 text-primary-600\" />\r\n          Assistente Virtual\r\n        </h3>\r\n      </div>\r\n\r\n      <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\r\n        {messages.map((message) => (\r\n          <div\r\n            key={message.id}\r\n            className={`flex ${message.isBot ? 'justify-start' : 'justify-end'}`}\r\n          >\r\n            <div\r\n              className={`max-w-xs lg:max-w-md px-4 py-2 rounded-lg ${\r\n                message.isBot\r\n                  ? 'bg-gray-100 text-gray-900'\r\n                  : 'bg-primary-600 text-white'\r\n              }`}\r\n            >\r\n              <div className=\"flex items-start space-x-2\">\r\n                {message.isBot ? (\r\n                  <Bot className=\"h-4 w-4 mt-0.5 text-primary-600\" />\r\n                ) : (\r\n                  <User className=\"h-4 w-4 mt-0.5\" />\r\n                )}\r\n                <div>\r\n                  <p className=\"text-sm\">{message.message}</p>\r\n                  <p className={`text-xs mt-1 ${\r\n                    message.isBot ? 'text-gray-500' : 'text-primary-100'\r\n                  }`}>\r\n                    {message.timestamp.toLocaleTimeString()}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n        <div ref={messagesEndRef} />\r\n      </div>\r\n\r\n      <form onSubmit={handleSendMessage} className=\"p-4 border-t\">\r\n        <div className=\"flex space-x-2\">\r\n          <input\r\n            type=\"text\"\r\n            value={inputMessage}\r\n            onChange={(e) => setInputMessage(e.target.value)}\r\n            placeholder=\"Digite sua pergunta...\"\r\n            className=\"flex-1 border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-primary-500 focus:border-primary-500\"\r\n          />\r\n          <button\r\n            type=\"submit\"\r\n            className=\"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500\"\r\n          >\r\n            <Send className=\"h-4 w-4\" />\r\n          </button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}